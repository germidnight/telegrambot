# Погодный телеграмм бот

Телеграмм бот, который ждёт сообщение от пользователя с названием города. В ответ отправляет погоду в следующие 3 часа в этом городе. Если город не найден, то отправляет погоду в Казани.

## Опции запуска

Отсутствуют

## Сборка

СБорка возможна в Windows и Linux посредством Qmake. Тестировалось в QT Creator 16.0.2 в Windows 10 и в Ubuntu 24.04.

### Использованные библиотеки

- Boost 1.83 (Asio, Beast, JSON, URL, Log)
- OpenSSL 3.5.1

## Общее описание файлов

- httpsclient.h, httpsclient.cpp - асинхронный (корутины) https-клиент, отправляет строку, принимает строку.
- telegrambot.h, telegrambot.cpp - телеграмм бот на асинхронном https-клиенте. Умеет отправлять тектстовые сообщения в ответ на непустые сообщения в телеграмм по токену бота. Ответ callback-функцией, передаваемой конструктору.
- httpsyncclient.h, httpsyncclient.cpp - синхронный https-клиент, отправляет строку, принимает строку.
- meteobot.h, meteobot.cpp - класс для получения прогноза погоды от api.open-meteo.com (требует координат города для получения прогноза).
- geocode.h, geocode.cpp - класс для получения координат города по названию города от api geocode-maps.yandex.ru.
- logger.h, logger.cpp - функции логирования. Записи в лог осуществляются в формате JSON

### Формат логирования

Информационное сообщение:
```JSON
{
    "timestamp":"2025-09-15T17:20:13.804124",
    "data":{
        "text":"текст сообщения",
        "where":"имя класса и функции",
        "message":"info"
    }
}
```
Сообщение об ошибке:
```JSON
{
    "timestamp":"2025-09-15T17:20:13.804124",
    "data":{
        "text":"текст ошибки",
        "where":"имя класса и функции",
        "message":"error"
    }
}
```

### Дополнительные требования

1) токен телеграмм бота - указывается в файле main.cpp
2) ключ api для geocode-maps.yandex.ru - указывается в файле geocode.h
